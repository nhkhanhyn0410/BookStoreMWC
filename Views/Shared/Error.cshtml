@{
    ViewData["Title"] = "Lỗi";
    Layout = "_Layout";
}

<div class="min-h-screen flex items-center justify-center bg-gray-50 py-12 px-4 sm:px-6 lg:px-8">
    <div class="max-w-lg w-full text-center space-y-8">
        <!-- Error Illustration -->
        <div class="flex justify-center">
            <div class="relative">
                <div class="w-32 h-32 bg-red-100 rounded-full flex items-center justify-center">
                    <i class="fas fa-exclamation-triangle text-red-500 text-6xl"></i>
                </div>
                <!-- Floating Animation -->
                <div class="absolute -top-2 -right-2 w-6 h-6 bg-red-300 rounded-full animate-ping opacity-75"></div>
                <div class="absolute -bottom-2 -left-2 w-4 h-4 bg-red-400 rounded-full animate-pulse"></div>
            </div>
        </div>

        <!-- Error Content -->
        <div class="space-y-4">
            <h1 class="text-4xl font-bold text-gray-900">
                Oops! Có lỗi xảy ra
            </h1>
            <p class="text-lg text-gray-600">
                Xin lỗi, đã có lỗi xảy ra khi xử lý yêu cầu của bạn.
                Vui lòng thử lại sau hoặc liên hệ với chúng tôi nếu vấn đề vẫn tiếp tục.
            </p>

            <!-- Error Code (if available) -->
            @if (Context.Response.StatusCode != 200)
            {
                <div class="inline-flex items-center px-3 py-1 rounded-full text-sm font-medium bg-red-100 text-red-800">
                    Mã lỗi: @Context.Response.StatusCode
                </div>
            }
        </div>

        <!-- Action Buttons -->
        <div class="space-y-4">
            <div class="flex flex-col sm:flex-row gap-4 justify-center">
                <button onclick="history.back()"
                    class="inline-flex items-center justify-center px-6 py-3 bg-primary-600 text-white rounded-lg hover:bg-primary-700 transition-colors font-medium">
                    <i class="fas fa-arrow-left mr-2"></i>
                    Quay lại trang trước
                </button>

                <a asp-controller="Home" asp-action="Index"
                    class="inline-flex items-center justify-center px-6 py-3 bg-gray-200 text-gray-800 rounded-lg hover:bg-gray-300 transition-colors font-medium">
                    <i class="fas fa-home mr-2"></i>
                    Về trang chủ
                </a>
            </div>

            <div class="pt-4 border-t border-gray-200">
                <p class="text-sm text-gray-500 mb-2">Cần hỗ trợ?</p>
                <div class="flex justify-center space-x-6 text-sm">
                    <a asp-controller="Home" asp-action="Contact"
                        class="text-primary-600 hover:text-primary-700 font-medium">
                        <i class="fas fa-envelope mr-1"></i>
                        Liên hệ hỗ trợ
                    </a>
                    <a href="tel:0123456789" class="text-primary-600 hover:text-primary-700 font-medium">
                        <i class="fas fa-phone mr-1"></i>
                        0123-456-789
                    </a>
                </div>
            </div>
        </div>
    </div>
</div>

<!-- Auto-retry Script -->
<script>
    // Auto-refresh after 30 seconds if it's a temporary error
    if (@Context.Response.StatusCode >= 500) {
        setTimeout(function () {
            if (confirm('Bạn có muốn tự động tải lại trang để thử lại không?')) {
                location.reload();
            }
        }, 30000);
    }
</script>